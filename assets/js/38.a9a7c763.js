(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{469:function(s,o,v){"use strict";v.r(o);var _=v(16),t=Object(_.a)({},(function(){var s=this,o=s.$createElement,v=s._self._c||o;return v("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[v("h1",{attrs:{id:"sudo"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#sudo"}},[s._v("#")]),s._v(" SUDO！")]),s._v(" "),v("h2",{attrs:{id:"what-is-sudo"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#what-is-sudo"}},[s._v("#")]),s._v(" What is SUDO?")]),s._v(" "),v("p",[v("code",[s._v("sudo")]),s._v("全称："),v("strong",[s._v("super user do")]),s._v("。顾名思义，干超级用户才能干的事情！所以其核心作用是"),v("strong",[s._v("提升当前执行的命令的执行权限")]),s._v("。Linux是以用户和用户组来管理权限的，如果你使用的账户权限不够，那么有些动作你是做不了的。但是我们也不能够干什么都指望"),v("code",[s._v("root")]),s._v("用户，这也会导致一些安全风险，因此"),v("code",[s._v("sudo")]),s._v("至关重要。")]),s._v(" "),v("h2",{attrs:{id:"作用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[s._v("#")]),s._v(" 作用")]),s._v(" "),v("p",[v("code",[s._v("sudo")]),s._v("是linux系统管理指令，是允许系统管理员让普通用户执行一些或者全部的"),v("code",[s._v("root")]),s._v("命令的一个工具，如halt，reboot，su等等。换句话说通过此命令可以让非"),v("code",[s._v("root")]),s._v("的用户运行只有"),v("code",[s._v("root")]),s._v("才有权限执行的命令。")]),s._v(" "),v("h2",{attrs:{id:"原理"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),v("p",[s._v("“当被运行时，将sudo进程的用户标识设置为sudo程序文件的所有者的标识”，或者说叫“setuid”的权限。")]),s._v(" "),v("p",[s._v("要想使一个用户具有使用"),v("code",[s._v("sudo")]),s._v("的能力，需要让"),v("code",[s._v("root")]),s._v("用户将其名字、可以执行的特定命令、按照哪种用户或用户组的身份执行等信息注册到"),v("code",[s._v("/etc/sudoers")]),s._v("文件中，即完成对该用户的授权（此时该用户称为“sudoer”）才可以。")]),s._v(" "),v("p",[s._v("当一般用户执行特殊权限时，在命令前加上 "),v("code",[s._v("sudo")]),s._v("，此时系统会让你输入密码以确认终端机前操作的是你本人，确认后系统会将该命令的进程以超级用户的权限运行。在一定的时间段内，再次执行"),v("code",[s._v("sudo")]),s._v("的命令时不再询问密码，超出此时间段（一般为5分钟）后需要再次输入密码。")]),s._v(" "),v("p",[s._v("详细看这篇：linux如何赋予用户sudo权限？ - 醉卧沙场的回答 - 知乎 https://www.zhihu.com/question/413212333/answer/2306961310")]),s._v(" "),v("h2",{attrs:{id:"具体使用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#具体使用"}},[s._v("#")]),s._v(" 具体使用")]),s._v(" "),v("ol",[v("li",[s._v("创建用户\n"),v("ul",[v("li",[v("code",[s._v("adduser mahongsheng")])])])]),s._v(" "),v("li",[s._v("授予"),v("strong",[s._v("mahongsheng")]),s._v("管理员权限，也就是将其注册到"),v("code",[s._v("/etc/sudoers")]),s._v("文件中。默认情况下，在"),v("code",[s._v("Ubuntu 18.04")]),s._v("上有一个"),v("code",[s._v("sudo")]),s._v("的组，属于此组的用户都可以使用"),v("code",[s._v("sudo")]),s._v("命令，所以只需要把"),v("strong",[s._v("mahongsheng")]),s._v(" 加到"),v("code",[s._v("sudo")]),s._v("组里面即可\n"),v("ul",[v("li",[v("code",[s._v("usermod -aG sudo mahongsheng")])])])])]),s._v(" "),v("h2",{attrs:{id:"优势"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#优势"}},[s._v("#")]),s._v(" 优势")]),s._v(" "),v("ul",[v("li",[s._v("sudo能够限制用户只在某台主机上运行某些命令。")]),s._v(" "),v("li",[s._v("sudo提供了丰富的日志，详细地记录了每个用户干了什么。它能够将日志传到中心主机或者日志服务器。")]),s._v(" "),v("li",[s._v("sudo使用时间戳文件来执行类似的“检票”系统。当用户调用sudo并且输入它的密码时，用户获得了一张存活期为5分钟的票（这个值可以在编译的时候改变）。")]),s._v(" "),v("li",[s._v("sudo的配置文件是sudoers文件，它允许系统管理员集中的管理用户的使用权限和使用的主机。")])])])}),[],!1,null,null,null);o.default=t.exports}}]);